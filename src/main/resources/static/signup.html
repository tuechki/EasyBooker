<!DOCTYPE html><html>

<head>
    <title>EasyBooker</title>
    <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>

<body>
<h2>Register in order to use EasyBooker</h2>

<div ng-app = "app" ng-controller = "signupController">

    Enter first name: <input type = "text" ng-model = "user.firstName"><br><br>
    Enter last name: <input type="text" ng-model = "user.lastName"><br><br>
    Enter username: <input type="text" ng-model = "user.username"><br><br>
    Enter password: <input type="password" ng-model = "user.password"><br><br>
    Renter the password: <input type="password" ng-model = "password"><br><br>
    Enter email: <input type="text" ng-model = "user.email"><br><br>
    Enter number: <input type="text" ng-model = "user.number"><br><br>
    Enter gender: <input type="text" ng-model = "user.gender"><br><br>
    <br>
    Enter date of birth: <input type="date" ng-model="dateOfBirth">
    <br><br>
    <form action="//upload.php//" method="post" enctype="multipart/form-data">
        Select image to upload:
        <input type="file" name="fileToUpload" id="fileToUpload">
        <input type="submit" value="Upload Image" name="submit">
    </form>
    <br><br>
    <button ng-click="create()">Sign up</button>

    <br><br>
    <!--<button ng-click="getUsers()">Get Users</button>-->
    <pre>
        {{ user }}
    </pre>

    <table>
        <tr>
            <th>Username</th>
            <th>Password</th>
        </tr>

        <tr ng-repeat = "user in users">
            <td>{{ user.username }}</td>
            <td>{{ user.password }}</td>
        </tr>
    </table>

</div>


<script>
    var app = angular.module("app", []);

    app.controller('signupController', function($scope, $http) {
        $scope.getUsers = function() {
            $scope.users = [];
            $http.get('http://localhost:8080/users')
                .then(function(result) {
                    $scope.users = result.data;
                });
        }

        $scope.create = function(){
            var successCallBack = function (response) {
                // success response found from server
                console.log('successful creation');
            };

            var errorCallBack = function (response) {
                // error response found from server
                console.log('not successful creation');
            };

            $http.post('http://localhost:8080/users/sign-up', $scope.user).then(successCallBack, errorCallBack);
        }
    });


</script>

</body>
</html>